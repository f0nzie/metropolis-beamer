\PassOptionsToPackage{unicode=true}{hyperref} % options for packages loaded elsewhere
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[14pt,ignorenonframetext,]{beamer}
\usepackage{pgfpages}
\setbeamertemplate{caption}[numbered]
\setbeamertemplate{caption label separator}{: }
\setbeamercolor{caption name}{fg=normal text.fg}
\beamertemplatenavigationsymbolsempty
% Prevent slide breaks in the middle of a paragraph:
\widowpenalties 1 10000
\raggedbottom
\setbeamertemplate{part page}{
\centering
\begin{beamercolorbox}[sep=16pt,center]{part title}
  \usebeamerfont{part title}\insertpart\par
\end{beamercolorbox}
}
\setbeamertemplate{section page}{
\centering
\begin{beamercolorbox}[sep=12pt,center]{part title}
  \usebeamerfont{section title}\insertsection\par
\end{beamercolorbox}
}
\setbeamertemplate{subsection page}{
\centering
\begin{beamercolorbox}[sep=8pt,center]{part title}
  \usebeamerfont{subsection title}\insertsubsection\par
\end{beamercolorbox}
}
\AtBeginPart{
  \frame{\partpage}
}
\AtBeginSection{
  \ifbibliography
  \else
    \frame{\sectionpage}
  \fi
}
\AtBeginSubsection{
  \frame{\subsectionpage}
}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provides euro and other symbols
\else % if luatex or xelatex
  \usepackage{unicode-math}
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
\usetheme[]{metropolis}
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage[]{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\usepackage{hyperref}
\hypersetup{
            pdftitle={Artificial Lift method selector},
            pdfauthor={Alfonso R. Reyes},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\newif\ifbibliography
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}

% set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

% \usetheme{metropolis}
% \usepackage{../metropolis/beamerthememetropolis}
\usepackage{../metropolis/beamerthememetropolis}

\usepackage{appendixnumberbeamer}

\usepackage{booktabs}
\usepackage[scale=2]{ccicons}

\usepackage{pgfplots}
\usepgfplotslibrary{dateplot}

\usepackage{xspace}
\newcommand{\themename}{\textbf{\textsc{metropolis}}\xspace}

\metroset{titleformat frame=smallcaps}

% Add section numbers in TOC
% https://tex.stackexchange.com/a/44998/173708
\setbeamertemplate{section in toc}[sections numbered]

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:


% make background color for title of the slides green
% https://tex.stackexchange.com/a/360349/173708
\definecolor{OilGainsGreen}{RGB}{85, 130, 5}    % Fidelity green normal
\setbeamercolor{frametitle}{bg=OilGainsGreen}   % do not change foreground color

% set folder for figures
\graphicspath{{figs/}}


% remove the [rt] keyword. Offset and increase to maximum size
% https://tex.stackexchange.com/a/412707/173708
\titlegraphic{%
  \begin{picture}(0,0)
    \put(154.5,-107){\makebox(0,0){\includegraphics[width=\paperwidth,height=\paperheight]{OilGainsTitleSlide2}}}
  \end{picture}}


% change color of title and subtitle
\definecolor{OilGainsGreen}{RGB}{85, 130, 5}  % Fidelity green normal
\setbeamercolor{title}{fg=white,bg=OilGainsGreen}
\setbeamercolor{subtitle}{fg=yellow,bg=OilGainsGreen}
\setbeamercolor{author}{fg=white,bg=OilGainsGreen}
\setbeamercolor{date}{fg=white,bg=OilGainsGreen}
\setbeamercolor{institute}{fg=yellow,bg=OilGainsGreen}

% change color of the progress bar and title separator
\definecolor{blueucl}{RGB}{0,87,156} %which is the color of my university
\setbeamercolor{progress bar}{fg=blueucl}
\setbeamercolor{title separator}{fg=lightgray} % color of the title separator
\setbeamercolor{progress bar in head/foot}{fg=blueucl}
\setbeamercolor{progress bar in section page}{fg=OilGainsGreen}


% change color standout slide
% https://github.com/matze/mtheme/issues/234
\definecolor{myGreen}{RGB}{30,98,56}
\definecolor{myGold}{RGB}{226,168,43}
% keep colors white and OilGainsGreen
\setbeamercolor{palette primary}{fg=white, bg=OilGainsGreen}

% change TOC color
% https://tex.stackexchange.com/a/29332/173708
\colorlet{mycolor}{orange!80!black}% change this color to suit your needs
\setbeamercolor{section in toc}{fg=mycolor}
\setbeamercolor{subsection in toc shaded}{fg=black}

% change thickness of progress bar and title separator
% https://github.com/matze/mtheme/issues/237
\makeatletter
\setlength{\metropolis@titleseparator@linewidth}{0.25pt}
\setlength{\metropolis@progressonsectionpage@linewidth}{2pt}
\setlength{\metropolis@progressinheadfoot@linewidth}{2pt}
\makeatother

% \logo{the logo \raisebox{0.5cm}{\includegraphics[width=1cm]{logo}}\hspace*{\textwidth}}

% place the logo at the bottom of each slide
% https://tex.stackexchange.com/a/341702/173708
\usepackage{graphbox}
\setbeamertemplate{footline}{%
    \includegraphics[align=c, height=0.45cm]{oilgains-alegr}%
    \hfill%
    \usebeamercolor[fg]{page number in head/foot}%
    \usebeamerfont{page number in head/foot}%
    \insertframenumber\,/\,\inserttotalframenumber\kern1em%
}

% Plenty of room
\setbeamersize{text margin left=2em,text margin right=2em}

% Figure placement using textpos
\usepackage{graphicx}
\usepackage[absolute,overlay]{textpos}
\setlength{\TPHorizModule}{1cm}
\setlength{\TPVertModule}{1cm}
\def\placefig#1#2#3#4{\begin{textblock}{.1}(#1,#2)\rlap{\includegraphics[#3]{#4}}\end{textblock}}


% define maxwidth and maxheight
\def\maxwidth{11.5cm}
\def\maxheight{8cm}
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}

% define fullwidth and fullheight
% \def\fullwidth#1{\vspace*{0.225cm}\par\centerline{\includegraphics[width=20cm]{#1}}}
% \def\fullheight#1{\vspace*{0.0cm}\par\centerline{\includegraphics[height=12cm]{#1}}}
\def\fullwidth#1{\vspace*{-0.2cm}\par\centerline{\includegraphics[width=20cm]{#1}}}
\def\fullheight#1{\vspace*{-0.2cm}\par\centerline{\includegraphics[height=12cm]{#1}}}

\title{Artificial Lift method selector}
\author{Alfonso R. Reyes}
\date{April 2019}

\begin{document}
\frame{\titlepage}

\hypertarget{an-artificial-lift-method-selector}{%
\section{An Artificial Lift method
selector}\label{an-artificial-lift-method-selector}}

\begin{frame}{Application}
\protect\hypertarget{application}{}

\fullwidth{al_selection_tool}

\end{frame}

\begin{frame}{Concept and workflow}
\protect\hypertarget{concept-and-workflow}{}

\begin{itemize}
\tightlist
\item
  A visual tool to select an AL method
\item
  Rapid application development
\item
  Shareable
\item
  Made with R and Shiny
\item
  It is not comprenhensive but gives an idea
\item
  Ideal to store data from literature
\item
  New criteria can be added
\end{itemize}

\end{frame}

\begin{frame}{Selection criteria}
\protect\hypertarget{selection-criteria}{}

\begin{itemize}
\tightlist
\item
  It is based on a matrix of AL methods vs rankings
\item
  The matrix lives in a worksheet easy to modify
\item
  These rankings could be subjective
\item
  The selection criteria may have many values
\item
  The criteria and value are plotted and compared
\item
  The higher the ranking \textbf{(3)}, the better the AL choice
\end{itemize}

\end{frame}

\begin{frame}{Selection boxes}
\protect\hypertarget{selection-boxes}{}

\begin{textblock}{4.5}(1.1, 6.0)\fontsize{10}{10}\sf
\begin{block}{\centering{Design Aspect}\par}
\parskip=0.150cm
\fontsize{14}{14}
The Design Aspect could be production rate, well inclination, watercut, sand, operating cost, etc. 
\end{block}
\end{textblock}

\begin{textblock}{4.5}(7.2, 6.0)\fontsize{10}{10}\sf
\begin{block}{\centering{Value}\par}
\fontsize{14}{14}
The value corresponds to a single number, a condition or a range.
\end{block}
\end{textblock}

\placefig{1.0}{1.5}{width=5cm}{al_selection_tool-design_aspect}
\placefig{7.2}{1.5}{width=4.75cm, height=2.5cm}{al_selection_tool-value_design_aspect}

\end{frame}

\begin{frame}{Evaluation variables}
\protect\hypertarget{evaluation-variables}{}

\fontsize{10}{10}\sf
\begin{columns}[T,onlytextwidth]

  \column{0.3\textwidth}
    \setlength{\parindent}{2em}
    \textbf{Design Aspect}
    \begin{itemize}
      \item Characteristic 
      \item Feature to compare
      \item Ex: temperature, sand, watercut, cost.
    \end{itemize}

  \column{0.3\textwidth}
    \setlength{\parindent}{2em}
    \textbf{Relevance}
    \begin{description}
      \item[High] Widely used
      \item[Low] Less used
      \item [Specialty] Niche areas
    \end{description}

  \column{0.4\textwidth}
    \setlength{\parindent}{5em}
    \textbf{Ranking}
    \begin{description}
      \item[1] Low performance
      \item[2] Average
      \item[3] High performance
    \end{description}
    
\end{columns}

\end{frame}

\begin{frame}{Selection matrix as raw data}
\protect\hypertarget{selection-matrix-as-raw-data}{}

\fullwidth{al_matrix}

\end{frame}

\begin{frame}{Selection matrix as tidy data}
\protect\hypertarget{selection-matrix-as-tidy-data}{}

\fullheight{al_matrix_tidy}

\end{frame}

\end{document}
